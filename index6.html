<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mood Music Mapper</title>
  <style>
    body {
        background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
                    url('https://cdn.dribbble.com/userupload/42259831/file/original-7824f335d663467e4c7a3313f3e20cd8.gif');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        min-height: 100vh;
        padding: 2rem;
    }

    .container {
        max-width: 1200px;
        background-color: rgba(15, 14, 23, 0.3);
        border-radius: 15px;
        box-shadow: 0 0 25px rgba(255, 255, 255, 0.1);
        overflow: hidden;
    }

    header {
        background: linear-gradient(to right, #2b3f60, #9c419a);
        color: #ffffff;
        padding: 2rem;
        text-align: center;
        text-shadow: 1px 1px 5px #000;
    }

    h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        font-family: cursive;
    }

    .subtitle {
        font-size: 1.1rem;
    }

    main {
        padding: 2rem;
    }

    .mood-selector {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 2rem;
    }

    .mood-btn {
        padding: 0.8rem 1.5rem;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        align-items: center;
        color: #fff;
        border: 1px solid #fff;
        text-shadow: 1px 1px 3px #000;
    }

    .happy { background-color: #1e524b; }
    .sad { background-color: #c064a6; }
    .energetic { background-color: #288057; }
    .chill { background-color: #341c56; }
    .romantic { background-color: #285c51; }

    .mood-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 20px rgba(255,255,255,0.5);
    }

    .mood-btn.active {
        border: 2px solid #fff;
        transform: scale(1.15);
    }

    .results-container {
        background-color: rgba(255, 255, 255, 0.08);
        border-radius: 10px;
        padding: 1rem;
        min-height: 300px;
        transition: all 0.3s ease;
    }

    .mood-display {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        font-weight: 600;
        text-align: center;
        color: #ffffff;
        text-shadow: 1px 1px 3px #000;
        font-family: Georgia, 'Times New Roman', Times, serif;
    }

    .song-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
    }

    .song-card {
        background-color: rgba(255, 255, 255, 0.12);
        color: #fff;
        border-radius: 8px;
        overflow:hidden;
        box-shadow: 0 3px 15px rgba(0,0,0,0.5);
        transition: all 0.3s ease;
        padding: 1rem;
    }

    .song-card iframe {
        display: block;
        border: none;
        border-radius:10px;
        width: 100%;
        margin-bottom: 1rem;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    .song-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }

    footer {
        text-align: center;
        padding: 1rem;
        color: #f8f8f8;
        font-size: 0.9rem;
        background-color: rgba(0,0,0,0.6);
    }

    /* Modal */
    #songModal {
        display:none;
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        background:rgba(0,0,0,0.8);
        display:flex;
        justify-content:center;
        align-items:center;
        z-index:1000;
    }
    #songModal .modal-content {
        background:#222;
        padding:20px;
        border-radius:10px;
        width:300px;
        color:#fff;
    }
    #songModal input {
        width:100%;
        margin:5px 0;
        padding:5px;
        border-radius:5px;
        border:none;
    }
    #songModal button {
        margin-top:10px;
        padding:8px 12px;
        cursor:pointer;
        border:none;
        border-radius:5px;
    }
    #songModal .save-btn { background:#9c419a; color:white; }
    #songModal .cancel-btn { background:#555; color:white; }
  </style>
</head>
<body>

  <div class="container">
    <header>
      <h1>Mood Music Mapper</h1>
      <p class="subtitle">Discover perfect songs for every mood</p>
    </header>

    <main>
      <div class="mood-selector">
        <button class="mood-btn romantic" onclick="selectMood('romantic')">‚ù§ Romantic</button>
        <button class="mood-btn sad" onclick="selectMood('sad')">üò¢ Sad</button>
        <button class="mood-btn energetic" onclick="selectMood('energetic')">‚ö° Energetic</button>
        <button class="mood-btn chill" onclick="selectMood('chill')">üçÉ Chill</button>
        <button class="mood-btn happy" onclick="selectMood('happy')">üòä Happy</button>
      </div>

      <div class="results-container">
        <h2 class="mood-display">Select a mood to get started</h2>
        <div id="songList" class="song-list"></div>
      </div>
    </main>

    <footer>
      <p>¬© 2025 Mood Music Mapper | Find the perfect soundtrack for every emotion</p>
    </footer>
  </div>

  <!-- Modal -->
  <div id="songModal">
    <div class="modal-content">
      <h3>Add Song</h3>
      <input type="text" id="modalTitle" placeholder="Song Title">
      <input type="text" id="modalArtist" placeholder="Artist Name">
      <input type="url" id="modalSpotify" placeholder="Spotify Link">
      <input type="url" id="modalYoutube" placeholder="YouTube Link">
      <button class="save-btn" onclick="saveSong()">Save</button>
      <button class="cancel-btn" onclick="closeModal()">Cancel</button>
    </div>
  </div>

<script>
var moodSongs = { happy: [], sad: [], energetic: [], chill: [], romantic: [] };
var currentMood = null;

function selectMood(mood) {
  displaySongsForMood(mood);
  highlightActiveButton(mood);
}

function displaySongsForMood(mood) {
  var moodDisplay = document.querySelector('.mood-display');
  var songListElement = document.getElementById('songList');

  currentMood = mood;
  moodDisplay.textContent = 'Songs for ' + capitalizeFirstLetter(mood) + ' Mood';
  songListElement.innerHTML = '';

  var songs = moodSongs[mood] || [];
  if (songs.length === 0) {
    songListElement.innerHTML = '<div class="loading">No songs found for this mood</div>';
  }

  songs.forEach(function(song) {
    var songCard = document.createElement('div');
    songCard.className = 'song-card';
    songCard.innerHTML = `
      <h3>${song.title}</h3>
      <p>${song.artist}</p>
      ${song.spotifyUrl ? `<iframe src="${song.spotifyUrl}" width="100%" height="80"></iframe>` : ""}
      ${song.youtubeUrl ? `<iframe src="${song.youtubeUrl}" width="100%" height="200" allowfullscreen></iframe>` : ""}
    `;
    songListElement.appendChild(songCard);
  });

  // Add button
  var addBtn = document.createElement('button');
  addBtn.textContent = "‚ûï Add Song";
  addBtn.style.marginTop = "1rem";
  addBtn.style.padding = "0.7rem 1.2rem";
  addBtn.style.borderRadius = "8px";
  addBtn.style.cursor = "pointer";
  addBtn.onclick = function() { openModal(mood); };
  songListElement.appendChild(addBtn);
}

function highlightActiveButton(mood) {
  var buttons = document.querySelectorAll('.mood-btn');
  buttons.forEach(btn => btn.classList.remove('active'));
  var activeButton = document.querySelector('.' + mood);
  if (activeButton) activeButton.classList.add('active');
}

function capitalizeFirstLetter(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

function openModal(mood) {
  currentMood = mood;
  document.getElementById('modalTitle').value = "";
  document.getElementById('modalArtist').value = "";
  document.getElementById('modalSpotify').value = "";
  document.getElementById('modalYoutube').value = "";
  document.getElementById('songModal').style.display = "flex";
}

function closeModal() {
  document.getElementById('songModal').style.display = "none";
}

function saveSong() {
  var title = document.getElementById('modalTitle').value.trim();
  var artist = document.getElementById('modalArtist').value.trim();
  var spotifyUrl = document.getElementById('modalSpotify').value.trim();
  var youtubeUrl = document.getElementById('modalYoutube').value.trim();

  if (!title || !artist) {
    alert("Please enter song title and artist.");
    return;
  }

  // convert spotify normal link -> embed
  if (spotifyUrl.includes("open.spotify.com/track")) {
    var trackId = spotifyUrl.split("/track/")[1].split("?")[0];
    spotifyUrl = "https://open.spotify.com/embed/track/" + trackId;
  }

  // convert youtube normal link -> embed
  if (youtubeUrl.includes("watch?v=")) {
    var ytId = youtubeUrl.split("watch?v=")[1].split("&")[0];
    youtubeUrl = "https://www.youtube.com/embed/" + ytId;
  }
  if (youtubeUrl.includes("youtu.be/")) {
    var ytId2 = youtubeUrl.split("youtu.be/")[1].split("?")[0];
    youtubeUrl = "https://www.youtube.com/embed/" + ytId2;
  }

  moodSongs[currentMood].push({
    title: title,
    artist: artist,
    spotifyUrl: spotifyUrl,
    youtubeUrl: youtubeUrl
  });

  closeModal();
  displaySongsForMood(currentMood);
}
</script>

</body>
</html>
